[gd_scene load_steps=10 format=3 uid="uid://dftqgscgou0po"]

[ext_resource type="Texture2D" uid="uid://bmmhhij0uxb26" path="res://assets/background.png" id="1_5vw27"]
[ext_resource type="Script" uid="uid://xjqqwks4jnbg" path="res://scripts/spiders.gd" id="1_ig7tw"]
[ext_resource type="Texture2D" uid="uid://bqnn1m8fx08fe" path="res://assets/spider.png" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://lwbm555q4l6v" path="res://scene/npc.tscn" id="2_5vw27"]
[ext_resource type="PackedScene" uid="uid://dmo6ch2xreba2" path="res://living_room.tscn" id="2_kek77"]
[ext_resource type="PackedScene" uid="uid://dcv6rxbagi8t0" path="res://scene/destination.tscn" id="3_kek77"]
[ext_resource type="AudioStream" uid="uid://df7tkluxjl5au" path="res://assets/SFX/spider.ogg" id="4_kek77"]
[ext_resource type="Script" uid="uid://bxbiobssdnvdc" path="res://scripts/fear_meter.gd" id="6_7mycd"]

[sub_resource type="SpriteFrames" id="SpriteFrames_5vw27"]

[node name="Main" type="Node2D"]

[node name="Background" type="Sprite2D" parent="."]
z_index = -5
position = Vector2(3.8019753, -6.0000052)
scale = Vector2(1.4762552, 1.476255)
texture = ExtResource("1_5vw27")

[node name="LivingRoom" parent="." instance=ExtResource("2_kek77")]

[node name="NPC" type="Node" parent="."]

[node name="NPC" parent="NPC" node_paths=PackedStringArray("target") instance=ExtResource("2_5vw27")]
position = Vector2(-270, 75)
target = NodePath("../Destinations/Destination")

[node name="Destinations" type="Node" parent="NPC"]

[node name="Destination" parent="NPC/Destinations" node_paths=PackedStringArray("linked_destinations") instance=ExtResource("3_kek77")]
position = Vector2(-430, 161)
cause_stop = true
stop_duration = 2
linked_destinations = [NodePath("../Destination2"), NodePath("../Destination3"), NodePath("../Destination4")]
destination_orientation = Array[int]([3, 1, 1])

[node name="Destination2" parent="NPC/Destinations" node_paths=PackedStringArray("linked_destinations") instance=ExtResource("3_kek77")]
position = Vector2(-10, 392)
orientation = 3
linked_destinations = [NodePath("../Destination"), NodePath("../Destination3"), NodePath("../Destination4")]
destination_orientation = Array[int]([0, 0, 1])

[node name="Destination3" parent="NPC/Destinations" node_paths=PackedStringArray("linked_destinations") instance=ExtResource("3_kek77")]
position = Vector2(-120, -68)
orientation = 3
linked_destinations = [NodePath("../Destination2"), NodePath("../Destination"), NodePath("../Destination4")]
destination_orientation = Array[int]([3, 2, 3])

[node name="Destination4" parent="NPC/Destinations" node_paths=PackedStringArray("linked_destinations") instance=ExtResource("3_kek77")]
position = Vector2(361, 185)
orientation = 3
linked_destinations = [NodePath("../Destination2"), NodePath("../Destination"), NodePath("../Destination3")]
destination_orientation = Array[int]([2, 2, 0])

[node name="Camera" type="Camera2D" parent="."]

[node name="spiders" type="Node2D" parent="." node_paths=PackedStringArray("move_sound", "jump_sound")]
script = ExtResource("1_ig7tw")
spider_count = 5
base_spread = 200.0
spider_scale = 0.6999999999970896
spritesheet = ExtResource("2_0xm2m")
move_sound = NodePath("MovePlayer")
jump_sound = NodePath("JumpPlayer")

[node name="JumpPlayer" type="AudioStreamPlayer" parent="spiders"]

[node name="MovePlayer" type="AudioStreamPlayer" parent="spiders"]
stream = ExtResource("4_kek77")

[node name="MoveArea" type="Area2D" parent="spiders"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="spiders/MoveArea"]
polygon = PackedVector2Array(2, -190, 604, 160, -6, 515, -615, 163)

[node name="ProgressBar" type="ProgressBar" parent="."]
offset_left = -462.0
offset_top = -479.0
offset_right = 466.0
offset_bottom = -452.0
script = ExtResource("6_7mycd")
metadata/_edit_use_anchors_ = true

[node name="Destination" parent="." instance=ExtResource("3_kek77")]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_5vw27")

[connection signal="input_event" from="spiders/MoveArea" to="spiders" method="_on_move_area_input_event"]
